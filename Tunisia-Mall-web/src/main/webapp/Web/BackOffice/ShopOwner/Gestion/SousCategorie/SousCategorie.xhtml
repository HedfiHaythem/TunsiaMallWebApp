<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition  
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:p="http://primefaces.org/ui"
            xmlns:f="http://java.sun.com/jsf/core"
     xmlns:h="http://java.sun.com/jsf/html"
	template="/Web/squelette/squelette.xhtml">

	<ui:define name="PageTitle">
	Sous Categorie
</ui:define>     	
	<ui:define name="content">
   
	
	<h:body>
	
		<h:form id="formDataTableSlider">
			<p:growl id="msg" showDetail="false" />
			<!-- DATA TABLE LIST ALL MARQUE -->
			<p:dataTable var="item" value="#{SousCategorieBean.listSousCategories}" 
			 paginator="true" rows="10"
			 
			 style="width:80%; font-size:12px;margin-left:auto;margin-top:3%;margin-right:auto"
			 emptyMessage="0 Analyse(s)">
			
			    	
			    	
			<p:column filterBy="#{item.libelle}"  headerText="libelle" >
			    	<p:outputLabel value="#{item.libelle}"
						style="width:80px;height:80px" />
						
			    </p:column>
	
	 			<p:column  headerText=" description"  >
			    	
			    	<p:outputLabel value="#{item.description}"
						style="width:80px;height:80px" />
						
			    </p:column>
			    
			  <p:column  headerText="Categorie"  >
			    	
			    	<p:outputLabel value="#{item.categorie.libelle}"
						style="width:80px;height:80px" />
						
			    </p:column>
		
									
									      		  
			     
			    <p:column>
			    	<f:facet name="header">
		        		<p:commandButton  oncomplete="PF('ADDING').show()"  
		        		action="#{SousCategorieBean.initialization}" icon="ui-icon-circle-plus" update=":formNew" style="width:100%"/>
		        	</f:facet>
			    	 
		        	<p:panelGrid columns="2" cellspacing="1">        		
		        
  							<p:commandButton update=":formUpdate"
									style="align:center;" oncomplete="PF('UPDATE').show()"
									icon="ui-icon-pencil">
									<f:setPropertyActionListener value="#{item}"
										target="#{SousCategorieBean.sousCategorie}" />
								</p:commandButton>
   
		        				
		        	
			            		<p:commandButton  actionListener="#{SousCategorieBean.removing(item)}"   update=":formDataTableSlider"
		        		icon="ui-icon-trash">
		        		 <p:confirm header="Confirmation" message="Vous voulez Supprimer ?" icon="ui-icon-alert" />  
    </p:commandButton>  
		        	</p:panelGrid>
		        	 <p:confirmDialog global="true" showEffect="fade" hideEffect="explode">  
        <p:commandButton value="Oui" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check"/>  
        <p:commandButton value="Non" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close"/>       
    </p:confirmDialog> 
		        </p:column>
			</p:dataTable>
		</h:form>
	</h:body>	

	 
	 
	 		<h:form id="formUpdate" onreset="reset()">
			<p:dialog header="Update" widgetVar="UPDATE" onLoad="reset()" modal="true"  width="500" height="500" >
			
			    

				<h:outputText value=" libelle *" />
				    <p:inputText   required="true"  label="libelle"  style="width:98%"
			        
			         value="#{SousCategorieBean.sousCategorie.libelle}" />
			    
		  
				<h:outputText value=" Description " />
				    <p:inputText  label="libelle"  style="width:98%"
			        
			         value="#{SousCategorieBean.sousCategorie.description}" />
			         
			         
			          <p:outputLabel>Categorie</p:outputLabel>
<p:selectOneMenu value="#{SousCategorieBean.sousCategorie.categorie.id}"  required="true" requiredMessage="Type Annonce Obligatoire" filter="true">
						<f:selectItem itemLabel="select"  itemValue="" />
						<f:selectItems value="#{SousCategorieBean.listCategorie}"
						var="item2"
						itemValue="#{item2.id}"
						itemLabel="#{item2.libelle}"/>
						
											</p:selectOneMenu>
					
			
			         

  
  					<f:facet name="footer">
					<p:commandButton value="Enregistrer"  
					oncomplete="if(!args.validationFailed){PF('UPDATE').hide();}" actionListener="#{SousCategorieBean.updating(SousCategorieBean.sousCategorie)}"  icon="ui-icon-circle-check"   update=":formDataTableSlider" />
				
					
								
					</f:facet>


		
			</p:dialog>
		
			</h:form>
			
	
		
				<h:form id="formNew" onreset="reset()">
			<p:dialog header="Nouveau" widgetVar="ADDING" onLoad="reset()" modal="true"  width="500" height="500" >
			
			
				    

				<h:outputText value=" libelle *" />
				    <p:inputText   required="true"  label="libelle"  style="width:98%"
			        
			         value="#{SousCategorieBean.sousCategorie.libelle}" />
			    
		  
				<h:outputText value=" Description " />
				    <p:inputText  label="libelle"  style="width:98%"
			        
			         value="#{SousCategorieBean.sousCategorie.description}" />
			         
			         
			          <p:outputLabel>Categorie</p:outputLabel>
<p:selectOneMenu value="#{SousCategorieBean.sousCategorie.categorie.id}"  required="true" requiredMessage="Type Annonce Obligatoire" filter="true">
						<f:selectItem itemLabel="select"  itemValue="" />
						<f:selectItems value="#{SousCategorieBean.listCategorie}"
						var="item2"
						itemValue="#{item2.id}"
						itemLabel="#{item2.libelle}"/>
						
											</p:selectOneMenu>
					
			
			         

			         

  
  
  					<f:facet name="footer">
					<p:commandButton value="Enregistrer"  
					oncomplete="if(!args.validationFailed){PF('ADDING').hide();}"  actionListener="#{SousCategorieBean.adding(SousCategorieBean.sousCategorie)}"  icon="ui-icon-circle-check" update=":formDataTableSlider" >
					
				
					</p:commandButton>
						
					
								
					</f:facet>


		
			</p:dialog>
		
			</h:form>
			
			
		
			<!-- ******************************************************************************************************************************************************************* -->	
		


	
	</ui:define>
	</ui:composition>		
